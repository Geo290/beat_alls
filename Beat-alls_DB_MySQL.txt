CREATE TABLE Cliente ( ID_Cliente INT PRIMARY KEY NOT NULL AUTO_INCREMENT, Nombre VARCHAR(30) NOT NULL, Apellido VARCHAR(30) NOT NULL, Direccion VARCHAR(75) NOT NULL, Edad SMALLINT NOT NULL, Fecha_nacimiento date not null, Telefono BIGINT NOT NULL UNIQUE, Correo VARCHAR(30) NOT NULL UNIQUE, Rol VARCHAR(25) NOT NULL, Nombre_usuario VARCHAR(15) NOT NULL UNIQUE, Contrasena VARCHAR(150) NOT NULL )
CREATE TABLE Productos ( ID_Producto INT PRIMARY KEY NOT NULL AUTO_INCREMENT, Nombre_producto VARCHAR(30) NOT NULL, Descripcion VARCHAR(50) NOT NULL, Color VARCHAR(15) NOT NULL, Talla VARCHAR(20) NOT NULL, Material VARCHAR(15) NOT NULL, Marca VARCHAR(25) NOT NULL, Temporada VARCHAR(30) NOT NULL, Existencias SMALLINT NOT NULL, Precio Float NOT NULL, Precio_publico Float NOT NULL, ID_Proveedor INT NOT NULL, filepath VARCHAR(300) NOT NULL, CONSTRAINT fk_proveedor FOREIGN KEY (ID_Proveedor) REFERENCES Proveedor(ID_Proveedor) )
CREATE TABLE Carrito ( ID_Carrito INT NOT NULL, ID_Cliente INT NOT NULL, ID_Producto INT NOT NULL, Nombre_producto VARCHAR(30) NOT NULL, Descripcion VARCHAR(50) NOT NULL, Cantidad_producto SMALLINT NOT NULL, Precio_unitario_producto SMALLINT NOT NULL, Precio_total_productos INT NOT NULL, Cantidad_pagar INT NOT NULL, CONSTRAINT fk_idcliente FOREIGN KEY (ID_Cliente) REFERENCES Cliente(ID_Cliente), CONSTRAINT fk_idproducto FOREIGN KEY (ID_Producto) REFERENCES Productos(ID_Producto) )
CREATE TABLE Pedidos ( No_pedido INT NOT NULL, ID_Cliente INT NOT NULL, Nombre_cliente VARCHAR(15) NOT NULL, ID_Producto INT NOT NULL, Nombre_producto VARCHAR(30) NOT NULL, Descripcion VARCHAR(50) NOT NULL, Cantidad_producto SMALLINT NOT NULL, Precio_unitario_producto SMALLINT NOT NULL, Precio_total_productos INT NOT NULL, Cantidad_pagar INT NOT NULL, Ubicacion VARCHAR(50) NOT NULL, Fecha DATE NOT NULL DEFAULT CURRENT_TIMESTAMP, Estatus VARCHAR(25), CONSTRAINT fk_idclienteP FOREIGN KEY (ID_Cliente) REFERENCES Cliente(ID_Cliente), CONSTRAINT fk_idproductoP FOREIGN KEY (ID_Producto) REFERENCES Productos(ID_Producto) )
CREATE TABLE Usuario ( ID_Usuario INT PRIMARY KEY AUTO_INCREMENT NOT NULL, Nombre VARCHAR(30) NOT NULL, Apellido VARCHAR(30) NOT NULL, Direccion VARCHAR(75) NOT NULL, Edad SMALLINT NOT NULL, Fecha_nacimiento DATE NOT NULL, Telefono BIGINT NOT NULL UNIQUE, Correo VARCHAR(30) NOT NULL UNIQUE, Rol VARCHAR(25) NOT NULL, Nombre_usuario VARCHAR(15) NOT NULL UNIQUE, Contrasena VARCHAR(8) NOT NULL )
CREATE TABLE logs_cliente ( ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL, ID_cliente INT NOT NULL, Nombre_cliente VARCHAR(30) NOT NULL, Accion VARCHAR(30) NOT NULL, Descripcion VARCHAR(300) NOT NULL, Fecha_hora TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL, IP VARCHAR(15) NOT NULL, CONSTRAINT fk_cliente_logs FOREIGN KEY (ID_cliente) REFERENCES Cliente(ID_Cliente) )
CREATE TABLE logs_usuario ( ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL, ID_usuario INT NOT NULL, Nombre_usuario VARCHAR(30) NOT NULL, Accion VARCHAR(30) NOT NULL, Descripcion VARCHAR(300) NOT NULL, Fecha_hora TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL, IP VARCHAR(15) NOT NULL, CONSTRAINT fk_usuario_logs FOREIGN KEY (ID_usuario) REFERENCES Usuario(ID_Usuario) )
CREATE TABLE Historial (Entrada INT PRIMARY KEY NOT NULL, No_pedido INT NOT NULL, ID_Cliente INT NOT NULL, Nombre_cliente VARCHAR(15) NOT NULL, ID_Producto INT NOT NULL, Nombre_producto VARCHAR(30) NOT NULL, Descripcion VARCHAR(50) NOT NULL, Cantidad_producto SMALLINT NOT NULL, Precio_unitario_producto SMALLINT NOT NULL, Precio_total_productos INT NOT NULL, Cantidad_pagar INT NOT NULL, Fecha DATE NOT NULL DEFAULT CURRENT_TIMESTAMP, Estatus VARCHAR(25), motivo_Cancelacion varchar(100) NOT NULL, CONSTRAINT fk_idclienteP FOREIGN KEY (ID_Cliente) REFERENCES Cliente(ID_Cliente), CONSTRAINT fk_idproductoP FOREIGN KEY (ID_Producto) REFERENCES Productos(ID_Producto) )